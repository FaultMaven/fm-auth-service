# FaultMaven Auth Service - Enterprise Edition
# Environment Configuration Template (Development)
#
# Instructions:
# 1. Copy this file to .env
# 2. Update all values marked with <CHANGE_ME>
# 3. Never commit .env to version control

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# PostgreSQL connection settings
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=faultmaven_auth
POSTGRES_USER=postgres
POSTGRES_PASSWORD=<CHANGE_ME_postgres_password>

# Full database URL (alternative to individual settings)
# DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================

# Redis connection settings (for session management and token blacklist)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=<CHANGE_ME_redis_password>
REDIS_DB=0

# Redis connection URL (alternative)
# REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ==============================================================================
# JWT AUTHENTICATION
# ==============================================================================

# Secret key for JWT signing (CRITICAL - use strong random value)
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=<CHANGE_ME_generate_with_openssl_rand_hex_32>

# JWT algorithm
JWT_ALGORITHM=HS256

# Token expiration times
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==============================================================================
# SAML SSO CONFIGURATION (Optional)
# ==============================================================================

# SAML Service Provider settings
SAML_ENTITY_ID=
SAML_ACS_URL=
SAML_SLO_URL=
SAML_METADATA_URL=

# SAML certificate paths (if using file-based certificates)
SAML_CERT_FILE=
SAML_KEY_FILE=

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================

# Environment mode
ENVIRONMENT=development

# Logging
LOG_LEVEL=DEBUG

# CORS settings (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Service port (inside container)
SERVICE_PORT=8000

# External port mapping (for docker-compose)
AUTH_SERVICE_PORT=8001

# ==============================================================================
# SECURITY SETTINGS
# ==============================================================================

# Password hashing
PASSWORD_MIN_LENGTH=8
BCRYPT_ROUNDS=12

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# Session settings
SESSION_TIMEOUT_MINUTES=60
MAX_CONCURRENT_SESSIONS=5

# ==============================================================================
# EMAIL CONFIGURATION (Optional - for password reset, etc.)
# ==============================================================================

# SMTP settings
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@faultmaven.com
SMTP_FROM_NAME=FaultMaven Auth Service

# ==============================================================================
# MONITORING & OBSERVABILITY (Optional)
# ==============================================================================

# Sentry error tracking
SENTRY_DSN=

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_SERVICE_NAME=fm-auth-service-enterprise

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================

# Enable/disable specific features
ENABLE_SSO=true
ENABLE_TEAM_MANAGEMENT=true
ENABLE_AUDIT_LOGGING=true
ENABLE_API_DOCS=true

# ==============================================================================
# DEVELOPMENT ONLY
# ==============================================================================

# Auto-reload on code changes (development only)
RELOAD=true

# SQL query logging
SQL_ECHO=false

# Debug mode
DEBUG=true
